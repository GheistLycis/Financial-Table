<div>
    <div class="d-flex justify-content-center w-100 filters">
        <ng-container *ngTemplateOutlet="filter; 
            context: { $implicit: months$, title: 'Mês', model: selectedMonths$, label: 'month' }"
        ></ng-container>
        <ng-container *ngTemplateOutlet="filter; 
            context: { $implicit: categories$, title: 'Categoria', model: selectedCategories$, label: 'name' }"
        ></ng-container>
        <ng-container *ngTemplateOutlet="filter; 
            context: { $implicit: groups$, title: 'Grupo', model: selectedGroups$, label: 'name' }"
        ></ng-container>
    </div>
</div>

<ng-template #filter let-items let-title="title" let-model="model" let-label="label">
    <div>
        <label class="form-label">{{ title }}</label>
        <ng-select
            [items]="items | async"
            [ngModel]="model | async"
            (ngModelChange)="model.next($event)"
            [multiple]="true"
            [clearable]="clearable"
            [maxSelectedItems]="multiple ? undefined : 1"
            [bindLabel]="label"
            [hideSelected]="true"
            notFoundText="Nenhum registro disponível."
        ></ng-select>
    </div>
</ng-template>

<ng-container appMonthName></ng-container>